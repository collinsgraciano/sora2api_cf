# Sora2API

<div align="center">

[![License](https://img.shields.io/badge/license-MIT-blue.svg)](LICENSE)
[![Python](https://img.shields.io/badge/python-3.8%2B-blue.svg)](https://www.python.org/)
[![FastAPI](https://img.shields.io/badge/fastapi-0.119.0-green.svg)](https://fastapi.tiangolo.com/)
[![Docker](https://img.shields.io/badge/docker-supported-blue.svg)](https://www.docker.com/)

**ä¸€ä¸ªåŠŸèƒ½å®Œæ•´çš„ OpenAI å…¼å®¹ API æœåŠ¡ï¼Œä¸º Sora æä¾›ç»Ÿä¸€çš„æ¥å£**

</div>

---

## ğŸ“‹ ç›®å½•

- [åŠŸèƒ½ç‰¹æ€§](#åŠŸèƒ½ç‰¹æ€§)
- [å¿«é€Ÿå¼€å§‹](#å¿«é€Ÿå¼€å§‹)
- [ä½¿ç”¨æŒ‡å—](#ä½¿ç”¨æŒ‡å—)
- [æ¶æ„è®¾è®¡](#æ¶æ„è®¾è®¡)
- [è®¸å¯è¯](#è®¸å¯è¯)

---

## âœ¨ åŠŸèƒ½ç‰¹æ€§

### æ ¸å¿ƒåŠŸèƒ½
- ğŸ¨ **æ–‡ç”Ÿå›¾** - æ ¹æ®æ–‡æœ¬æè¿°ç”Ÿæˆå›¾ç‰‡
- ğŸ–¼ï¸ **å›¾ç”Ÿå›¾** - åŸºäºä¸Šä¼ çš„å›¾ç‰‡è¿›è¡Œåˆ›æ„å˜æ¢
- ğŸ¬ **æ–‡ç”Ÿè§†é¢‘** - æ ¹æ®æ–‡æœ¬æè¿°ç”Ÿæˆè§†é¢‘
- ğŸ¥ **å›¾ç”Ÿè§†é¢‘** - åŸºäºå›¾ç‰‡ç”Ÿæˆç›¸å…³è§†é¢‘
- ğŸ“Š **å¤šå°ºå¯¸æ”¯æŒ** - æ¨ªå±ã€ç«–å±ç­‰å¤šç§è§„æ ¼

### é«˜çº§ç‰¹æ€§
- ğŸ” **Token ç®¡ç†** - æ”¯æŒå¤š Token ç®¡ç†å’Œè½®è¯¢è´Ÿè½½å‡è¡¡
- ğŸŒ **ä»£ç†æ”¯æŒ** - æ”¯æŒ HTTP å’Œ SOCKS5 ä»£ç†
- ğŸ“ **è¯¦ç»†æ—¥å¿—** - å®Œæ•´çš„è¯·æ±‚/å“åº”æ—¥å¿—è®°å½•
- ğŸ”„ **å¼‚æ­¥å¤„ç†** - é«˜æ•ˆçš„å¼‚æ­¥ä»»åŠ¡å¤„ç†
- ğŸ’¾ **æ•°æ®æŒä¹…åŒ–** - SQLite æ•°æ®åº“å­˜å‚¨
- ğŸ¯ **OpenAI å…¼å®¹** - å®Œå…¨å…¼å®¹ OpenAI API æ ¼å¼
- ğŸ›¡ï¸ **å®‰å…¨è®¤è¯** - API Key éªŒè¯å’Œæƒé™ç®¡ç†
- ğŸ“± **Web ç®¡ç†ç•Œé¢** - ç›´è§‚çš„ç®¡ç†åå°

### å¯é æ€§
- âš¡ **è‡ªåŠ¨é‡è¯•** - æ™ºèƒ½é‡è¯•æœºåˆ¶
- ğŸ”’ **é”™è¯¯å¤„ç†** - å®Œå–„çš„é”™è¯¯å¤„ç†å’Œæ¢å¤
- ğŸ“Š **æ€§èƒ½ç›‘æ§** - Token ä½¿ç”¨ç»Ÿè®¡å’Œç›‘æ§
- ğŸš« **é€Ÿç‡é™åˆ¶** - é˜²æ­¢æ»¥ç”¨çš„é™æµæœºåˆ¶

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å‰ç½®è¦æ±‚

- Docker å’Œ Docker Composeï¼ˆæ¨èï¼‰
- æˆ– Python 3.8+

### æ–¹å¼ä¸€ï¼šDocker éƒ¨ç½²ï¼ˆæ¨èï¼‰

#### æ ‡å‡†æ¨¡å¼ï¼ˆä¸ä½¿ç”¨ä»£ç†ï¼‰

```bash
# å…‹éš†é¡¹ç›®
git clone https://github.com/TheSmallHanCat/sora2api.git
cd sora2api

# å¯åŠ¨æœåŠ¡
docker-compose up -d

# æŸ¥çœ‹æ—¥å¿—
docker-compose logs -f
```

#### WARP æ¨¡å¼ï¼ˆä½¿ç”¨ä»£ç†ï¼‰

```bash
# ä½¿ç”¨ WARP ä»£ç†å¯åŠ¨
docker-compose -f docker-compose.warp.yml up -d

# æŸ¥çœ‹æ—¥å¿—
docker-compose -f docker-compose.warp.yml logs -f
```

### æ–¹å¼äºŒï¼šæœ¬åœ°éƒ¨ç½²

```bash
# å…‹éš†é¡¹ç›®
git clone https://github.com/TheSmallHanCat/sora2api.git
cd sora2api

# åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ
python -m venv venv

# æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ
# Windows
venv\Scripts\activate
# Linux/Mac
source venv/bin/activate

# å®‰è£…ä¾èµ–
pip install -r requirements.txt

# å¯åŠ¨æœåŠ¡
python main.py
```

### é¦–æ¬¡å¯åŠ¨

æœåŠ¡å¯åŠ¨åï¼Œè®¿é—®ç®¡ç†åå°è¿›è¡Œåˆå§‹åŒ–é…ç½®ï¼š

- **åœ°å€**: http://localhost:8000
- **ç”¨æˆ·å**: `admin`
- **å¯†ç **: `admin`

âš ï¸ **é‡è¦**: é¦–æ¬¡ç™»å½•åè¯·ç«‹å³ä¿®æ”¹å¯†ç ï¼

---

## ğŸ“– ä½¿ç”¨æŒ‡å—

### ç®¡ç†åå°

è®¿é—® http://localhost:8000ï¼ˆæˆ–ä½ çš„æœåŠ¡å™¨ IP/åŸŸåï¼‰

#### ä¸»è¦åŠŸèƒ½

1. **Token ç®¡ç†**
   - æ·»åŠ /åˆ é™¤ Sora Token
   - æŸ¥çœ‹ Token çŠ¶æ€å’Œä½¿ç”¨ç»Ÿè®¡
   - è®¾ç½® Token è¿‡æœŸæ—¶é—´
   - ç¼–è¾‘ Token å¤‡æ³¨ä¿¡æ¯

2. **ä»£ç†é…ç½®**
   - å¯ç”¨/ç¦ç”¨ä»£ç†
   - é…ç½®ä»£ç†åœ°å€ï¼ˆæ”¯æŒ HTTP å’Œ SOCKS5ï¼‰

3. **è°ƒè¯•æ¨¡å¼**
   - å¯ç”¨è¯¦ç»†æ—¥å¿—è®°å½•
   - æŸ¥çœ‹ API è¯·æ±‚/å“åº”è¯¦æƒ…

4. **ç³»ç»Ÿé…ç½®**
   - ä¿®æ”¹ç®¡ç†å‘˜å¯†ç 
   - ä¿®æ”¹ API Key
   - é…ç½®å†·å´é˜ˆå€¼å’Œé”™è¯¯é™åˆ¶

### API è°ƒç”¨

#### åŸºæœ¬ä¿¡æ¯ï¼ˆä½¿ç”¨OpenAIæ ‡å‡†æ ¼å¼ï¼‰

- **ç«¯ç‚¹**: `http://localhost:8000/v1/chat/completions`
- **è®¤è¯**: åœ¨è¯·æ±‚å¤´ä¸­æ·»åŠ  `Authorization: Bearer YOUR_API_KEY`
- **é»˜è®¤ API Key**: `han1234`ï¼ˆå»ºè®®ä¿®æ”¹ï¼‰

#### æ”¯æŒçš„æ¨¡å‹

| æ¨¡å‹ | è¯´æ˜ | è¾“å…¥ | è¾“å‡º |
|------|------|------|------|
| `sora-image` | æ–‡ç”Ÿå›¾ï¼ˆé»˜è®¤æ¨ªå±ï¼‰ | æ–‡æœ¬/å›¾ç‰‡ | å›¾ç‰‡ |
| `sora-image-landscape` | æ–‡ç”Ÿå›¾ï¼ˆæ¨ªå±ï¼‰ | æ–‡æœ¬/å›¾ç‰‡ | å›¾ç‰‡ |
| `sora-image-portrait` | æ–‡ç”Ÿå›¾ï¼ˆç«–å±ï¼‰ | æ–‡æœ¬/å›¾ç‰‡ | å›¾ç‰‡ |
| `sora-video` | æ–‡ç”Ÿè§†é¢‘ï¼ˆé»˜è®¤æ¨ªå±ï¼‰ | æ–‡æœ¬/å›¾ç‰‡ | è§†é¢‘ |
| `sora-video-landscape` | æ–‡ç”Ÿè§†é¢‘ï¼ˆæ¨ªå±ï¼‰ | æ–‡æœ¬/å›¾ç‰‡ | è§†é¢‘ |
| `sora-video-portrait` | æ–‡ç”Ÿè§†é¢‘ï¼ˆç«–å±ï¼‰ | æ–‡æœ¬/å›¾ç‰‡ | è§†é¢‘ |

#### è¯·æ±‚ç¤ºä¾‹

**æ–‡ç”Ÿå›¾**

```bash
curl -X POST "http://localhost:8000/v1/chat/completions" \
  -H "Authorization: Bearer han1234" \
  -H "Content-Type: application/json" \
  -d '{
    "model": "sora-image",
    "messages": [
      {
        "role": "user",
        "content": "ä¸€åªå¯çˆ±çš„å°çŒ«å’ª"
      }
    ]
  }'
```

**å›¾ç”Ÿå›¾**

```bash
curl -X POST "http://localhost:8000/v1/chat/completions" \
  -H "Authorization: Bearer han1234" \
  -H "Content-Type: application/json" \
  -d '{
    "model": "sora-image",
    "messages": [
      {
        "role": "user",
        "content": "å°†è¿™å¼ å›¾ç‰‡å˜æˆæ²¹ç”»é£æ ¼"
      }
    ],
    "image": "base64_encoded_image_data"
  }'
```

**æ–‡ç”Ÿè§†é¢‘**

```bash
curl -X POST "http://localhost:8000/v1/chat/completions" \
  -H "Authorization: Bearer han1234" \
  -H "Content-Type: application/json" \
  -d '{
    "model": "sora-video",
    "messages": [
      {
        "role": "user",
        "content": "ä¸€åªå°çŒ«åœ¨è‰åœ°ä¸Šå¥”è·‘"
      }
    ]
  }'
```

#### å“åº”ç¤ºä¾‹

```json
{
  "id": "chatcmpl-8p8fk9x",
  "object": "text_completion",
  "created": 1699564800,
  "model": "sora-image",
  "choices": [
    {
      "index": 0,
      "message": {
        "role": "assistant",
        "content": "<img src=\"https://example.com/image.jpg\" />"
      },
      "finish_reason": "stop"
    }
  ],
  "usage": {
    "prompt_tokens": 10,
    "completion_tokens": 0,
    "total_tokens": 10
  }
}
```

---

## ğŸ—ï¸ æ¶æ„è®¾è®¡

### ç³»ç»Ÿæ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         å‰ç«¯ (Web UI)                    â”‚
â”‚  â€¢ Vue3 ç®¡ç†ç•Œé¢                        â”‚
â”‚  â€¢ Token ç®¡ç†                           â”‚
â”‚  â€¢ é…ç½®ç®¡ç†                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         API å±‚ (FastAPI)                 â”‚
â”‚  â€¢ OpenAI å…¼å®¹æ¥å£                      â”‚
â”‚  â€¢ ç®¡ç†æ¥å£                             â”‚
â”‚  â€¢ è®¤è¯æˆæƒ                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         ä¸šåŠ¡å±‚ (Services)                â”‚
â”‚  â€¢ Token ç®¡ç†                           â”‚
â”‚  â€¢ è´Ÿè½½å‡è¡¡                             â”‚
â”‚  â€¢ ç”Ÿæˆå¤„ç†                             â”‚
â”‚  â€¢ æ—¥å¿—è®°å½•                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         æ•°æ®å±‚ (SQLite)                  â”‚
â”‚  â€¢ Token å­˜å‚¨                           â”‚
â”‚  â€¢ ä»»åŠ¡è®°å½•                             â”‚
â”‚  â€¢ æ—¥å¿—å­˜å‚¨                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         Sora API (ä¸Šæ¸¸)                  â”‚
â”‚  â€¢ å›¾ç‰‡ç”Ÿæˆ                             â”‚
â”‚  â€¢ è§†é¢‘ç”Ÿæˆ                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ã€‚è¯¦è§ [LICENSE](LICENSE) æ–‡ä»¶ã€‚

---

## ğŸ™ è‡´è°¢

æ„Ÿè°¢æ‰€æœ‰è´¡çŒ®è€…å’Œä½¿ç”¨è€…çš„æ”¯æŒï¼

---

## ğŸ“ è”ç³»æ–¹å¼

- æäº¤ Issueï¼š[GitHub Issues](https://github.com/TheSmallHanCat/sora2api/issues)
- è®¨è®ºï¼š[GitHub Discussions](https://github.com/TheSmallHanCat/sora2api/discussions)

---

**â­ å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·ç»™ä¸ª Starï¼**
